<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Series Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
html, body {
  margin: 0;
  background: #000;
  color: #fff;
  font-family: system-ui, Arial, sans-serif;
}

h2 {
  margin: 0;
  padding: 10px;
  text-align: center;
  font-size: 15px;
  background: #111;
}

/* Player */
iframe {
  width: 100%;
  height: 60vh;
  border: none;
  background: #000;
}

/* Episode list */
.episodes {
  padding: 10px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 8px;
}

.ep {
  background: #1c1c1c;
  padding: 8px 5px;
  text-align: center;
  border-radius: 6px;
  font-size: 13px;
  cursor: pointer;
}

.ep:hover {
  background: #f1c40f;
  color: #000;
}

.ep.active {
  background: #f1c40f;
  color: #000;
  font-weight: bold;
}
</style>
</head>

<body>

<h2 id="title">Loading seriesâ€¦</h2>

<iframe
  id="ytPlayer"
  allow="autoplay; encrypted-media"
  allowfullscreen>
</iframe>

<div class="episodes" id="episodeList"></div>

<script>
/*
 URL FORMAT:
 youtube-player-series.html?
 title=The%20Bad%20Guys%20Series&
 eps=yqZ8qflYs6c,VIDEOID2,VIDEOID3
*/

const params = new URLSearchParams(location.search);
const title = params.get("title") || "YouTube Series";
const eps = (params.get("eps") || "").split(",");

const titleEl = document.getElementById("title");
const player = document.getElementById("ytPlayer");
const list = document.getElementById("episodeList");

titleEl.textContent = title;

// Play episode
function playEpisode(index) {
  player.src =
    `https://www.youtube.com/embed/${eps[index]}?autoplay=1&rel=0&modestbranding=1`;

  document.querySelectorAll(".ep").forEach((el, i) => {
    el.classList.toggle("active", i === index);
  });
}

// Build episode buttons
eps.forEach((id, i) => {
  const btn = document.createElement("div");
  btn.className = "ep";
  btn.textContent = "EP " + (i + 1);
  btn.onclick = () => playEpisode(i);
  list.appendChild(btn);
});

// Auto play first episode
if (eps.length > 0) playEpisode(0);
</script>

</body>
</html>
